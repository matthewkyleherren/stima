(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{736:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));const n=Math.sqrt(3),o=.5*(n-1),l=(3-n)/6,h=e=>0|Math.floor(e),c=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function d(e=Math.random){const t=m(e),r=new Float64Array(t).map((e=>c[e%12*2])),n=new Float64Array(t).map((e=>c[e%12*2+1]));return function(e,c){let d=0,m=0,y=0;const s=(e+c)*o,i=h(e+s),f=h(c+s),v=(i+f)*l,w=e-(i-v),M=c-(f-v);let x,S;w>M?(x=1,S=0):(x=0,S=1);const W=w-x+l,P=M-S+l,z=w-1+2*l,C=M-1+2*l,F=255&i,k=255&f;let H=.5-w*w-M*M;if(H>=0){const e=F+t[k];H*=H,d=H*H*(r[e]*w+n[e]*M)}let L=.5-W*W-P*P;if(L>=0){const e=F+x+t[k+S];L*=L,m=L*L*(r[e]*W+n[e]*P)}let V=.5-z*z-C*C;if(V>=0){const e=F+1+t[k+1];V*=V,y=V*V*(r[e]*z+n[e]*C)}return 70*(d+m+y)}}function m(e){const t=512,p=new Uint8Array(t);for(let i=0;i<256;i++)p[i]=i;for(let i=0;i<255;i++){const t=i+~~(e()*(256-i)),r=p[i];p[i]=p[t],p[t]=r}for(let i=256;i<t;i++)p[i]=p[i-256];return p}},817:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(18),o=r(182),l=r(183),h=(r(24),r(43),r(53),r(276),r(36),r(67),r(35),r(44),r(8),r(15),r(47),r(41),r(42),r(476)),c=r(25);r(736);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,a){if(e){if("string"==typeof e)return m(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw l}}}}function m(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=Array(a);t<a;t++)r[t]=e[t];return r}var y=function(){return Object(l.a)((function e(t,r,n){Object(o.a)(this,e),this.setupWebglScene=t,this.preloadManager=r,this.isMobile=n,this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.vhSave=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.vw/this.vh>2?this.vh=this.vw/2:(this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.isMobile&&(this.vh=window.screen.height,this.vhSave=window.screen.height)),this.businessHeight=document.getElementsByClassName("business")[0].offsetHeight,this.scene=new h.Scene,this.camera=new h.PerspectiveCamera(35,this.vw/this.vh,.1,250),this.camera.position.set(0,2,30),this.camera.rotation.set(-.1,0,0),this.renderer=new h.WebGLRenderer({antialias:!1}),this.renderer.shadowMap.enabled=!1,this.renderer.premultipliedAlpha=!1,this.renderer.stencil=!1,this.renderer.depth=!1,this.renderer.autoClearStencil=!1,this.renderer.preserveDrawingBuffer=!1,this.renderer.powerPreference="high-performance",this.renderer.setPixelRatio(this.setupWebglScene.pixelRatio),this.scene.background=new h.Color(14474972),this.scene.fog=new h.Fog(new h.Color(14474972),16,26),this.fbo=new h.WebGLRenderTarget(this.vw*this.setupWebglScene.pixelRatio,this.vh*this.setupWebglScene.pixelRatio,{type:h.HalfFloatType}),this.frameAnimation={val:0},this.clock=new h.Clock,this.delta=this.clock.getDelta(),this.pinsPosition=[],this.pins=[],this.plane=null,this.planeAngle=0,this.particleShaderMaterial=null,this.particleSystem=null,this.positions=null,this.saveParticles=null,this.sizes=null,this.positionsLength=null,this.indexSize=0,this.sizeParticle={ratio:0},this.scrolled0=0,this.scrolled1=0,this.scrolled2=0,this.scrolled3=0,this.scrolled4=0,this.scrolled5=0,this.scroll={y0:0,y1:0,y2:0,y3:0,y4:0,y5:0},this.pivot=new h.Object3D,this.globalGroup=new h.Group,this.pivot.add(this.globalGroup),this.scene.add(this.pivot),this.createLights(),this.createPins(),this.createParticles(),this.createStage(),this.resizeCanvas()}),[{key:"minVal",value:function(e,param){return param<e?e:param}},{key:"maxVal",value:function(e,param){return param>e?e:param}},{key:"betweenVal",value:function(e,t,param){return param<e?e:param>t?t:param}},{key:"roundTwo",value:function(e){return Math.floor(100*e)/100}},{key:"createLights",value:function(){this.ambientLight=new h.AmbientLight(16777215,2),this.dirLight=new h.DirectionalLight(16777215,2),this.dirLight.position.set(-10,2,5),this.dirLight.castShadow=!1,this.scene.add(this.dirLight),this.scene.add(this.ambientLight)}},{key:"createPins",value:function(){var e=this.setupWebglScene.textureLoader.load(this.preloadManager.preloadManifest.find((function(e){return"pins-alphamap"===e.id})).src);e.wrapS=e.wrapT=h.RepeatWrapping,e.minFilter=h.NearestFilter,e.magFilter=h.NearestFilter,this.linesMaterial1=new h.MeshBasicMaterial({color:0,alphaMap:e,depthWrite:!1,transparent:!0,opacity:0,side:h.DoubleSide}),this.linesMaterial2=new h.MeshBasicMaterial({color:0,transparent:!0,opacity:0,side:h.DoubleSide}),this.pinsPosition=[{x:-2.75,y:.55,z:8.5,height:2},{x:-2,y:.65,z:9.5,height:2},{x:-5,y:.55,z:10,height:.75},{x:-4.4,y:.9,z:11,height:.75},{x:-3.5,y:.9,z:10.5,height:.75},{x:-1.35,y:.8,z:14.5,height:1.5},{x:-.9,y:.8,z:15,height:2.75},{x:-.75,y:.65,z:13.5,height:2.25},{x:2,y:-.45,z:8,height:2.25},{x:2.25,y:.05,z:9,height:3},{x:1.85,y:-.1,z:11.5,height:.75},{x:2.75,y:-.2,z:9.5,height:1},{x:2.4,y:-.2,z:10.5,height:.75},{x:2.65,y:.3,z:12.5,height:1.25},{x:3.25,y:.55,z:11.75,height:2.5}];for(var i=0;i<this.pinsPosition.length;i++){var t=new h.PlaneGeometry(.01,this.pinsPosition[i].height),r=new h.PlaneGeometry(.03,.75),n=new h.Mesh(t,this.linesMaterial1),o=new h.Mesh(r,this.linesMaterial2);o.position.y=this.pinsPosition[i].height/2+.375,n.position.copy(this.pinsPosition[i]),n.add(o),n.scale.set(1,1e-5,1),this.pins.push(n),this.globalGroup.add(n)}}},{key:"createParticles",value:function(){var e=this,t=new h.BufferGeometry,r=new h.Vector4(47/255,48/255,42/255,.8);this.setupWebglScene.textureLoader.load(this.preloadManager.preloadManifest.find((function(e){return"particle2"===e.id})).src,(function(map){var n={pointTexture:{value:map},color:{value:r},fogColor:{type:"c",value:e.scene.fog.color},fogNear:{type:"f",value:e.scene.fog.near},fogFar:{type:"f",value:e.scene.fog.far}};e.particleShaderMaterial=new h.ShaderMaterial({uniforms:n,vertexShader:"precision highp float; attribute float size; varying vec4 vColor; uniform vec4 color; void main() { vColor = color; vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 ); gl_PointSize = size * ( 300.0 / -mvPosition.z ); gl_Position = projectionMatrix * mvPosition; }",fragmentShader:"precision highp float; uniform sampler2D pointTexture; varying vec4 vColor; uniform vec3 fogColor; uniform float fogNear; uniform float fogFar; void main() { gl_FragColor = vec4( vColor ); gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord ); float depth = gl_FragCoord.z / gl_FragCoord.w; float fogFactor = smoothstep( fogNear, fogFar, depth ); gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor ); }",blending:h.NormalBlending,transparent:!0,depthWrite:!1});var o=[],l=[];e.setupWebglScene.modelLoader.load(e.preloadManager.preloadManifest.find((function(e){return"map"===e.id})).src,(function(object){for(var i=0;i<object.scene.children[0].geometry.attributes.position.array.length;i+=3){var r=e.betweenVal(.15,.3,object.scene.children[0].geometry.attributes.position.array[i+1]/4);o.push(object.scene.children[0].geometry.attributes.position.array[i]),o.push(object.scene.children[0].geometry.attributes.position.array[i+1]+r/15),o.push(object.scene.children[0].geometry.attributes.position.array[i+2]),l.push(r)}t.setAttribute("position",new h.Float32BufferAttribute(o,3)),t.setAttribute("size",new h.Float32BufferAttribute(l,1).setUsage(h.DynamicDrawUsage)),e.positions=t.attributes.position.array,e.saveParticles=t.clone().attributes.position.array,e.sizes=t.attributes.size.array,e.positionsLength=t.attributes.position.array.length})),e.particleSystem=new h.Points(t,e.particleShaderMaterial),e.particleSystem.frustumCulled=!1,e.particleSystem.rotation.set(0,0,0),e.particleSystem.position.set(1,-.75,7),e.particleSystem.scale.set(.8,.8,.8),e.globalGroup.add(e.particleSystem)}))}},{key:"createStage",value:function(){var e=this,t=this.setupWebglScene.textureLoader.load(this.preloadManager.preloadManifest.find((function(e){return"impact"===e.id})).src);t.wrapS=t.wrapT=h.RepeatWrapping,t.minFilter=h.NearestFilter,t.magFilter=h.NearestFilter;var r=new h.MeshStandardMaterial({color:14474972,metalness:.1});this.setupWebglScene.modelLoader.load(this.preloadManager.preloadManifest.find((function(e){return"map"===e.id})).src,(function(object){e.stage=object.scene,e.stage.rotation.set(0,0,0),e.stage.position.set(1,-.75,7),e.stage.scale.set(.8,.8,.8),e.stage.traverse((function(e){e.isMesh&&(e.material=r)})),e.globalGroup.add(e.stage)}));var n=new h.PlaneGeometry(20,20);this.impactMaterial=new h.MeshBasicMaterial({map:t,transparent:!0,opacity:.4,depthWrite:!1,side:h.DoubleSide}),this.title=new h.Mesh(n,this.impactMaterial),this.title.position.set(0,3,-1),this.title.renderOrder=3,this.globalGroup.add(this.title)}},{key:"render",value:function(){this.setupWebglScene.renderer.setClearColor(16777215),this.setupWebglScene.renderer.setRenderTarget(this.fbo),this.setupWebglScene.renderer.clear(),this.setupWebglScene.renderer.render(this.scene,this.camera)}},{key:"loopAnimation",value:function(){this.delta=this.clock.getDelta(),this.frameAnimation.val+=this.delta/2;var e=window.scrollY-this.setupWebglScene.startHeight;this.scrolled0=this.betweenVal(0,6e3,-10500-this.businessHeight+e),this.scrolled1=this.betweenVal(0,1e3,-13250-this.businessHeight+e),this.scrolled2=this.betweenVal(0,1e3,-13500-this.businessHeight+e),this.scrolled3=this.betweenVal(0,500,-14e3-this.businessHeight+e),this.scrolled4=this.betweenVal(0,1e3,-18e3-this.businessHeight+e),this.scrolled5=this.betweenVal(0,6e3,-16e3-this.businessHeight+e),this.scrolled6=this.betweenVal(0,2e3,-15e3-this.businessHeight+e),this.scroll.y0=this.setupWebglScene.easingBase*(this.scrolled0-this.scroll.y0)+this.scroll.y0,this.scroll.y1=this.setupWebglScene.easingBase*(this.scrolled1-this.scroll.y1)+this.scroll.y1,this.scroll.y2=this.setupWebglScene.easingBase*(this.scrolled2-this.scroll.y2)+this.scroll.y2,this.scroll.y3=this.setupWebglScene.easingBase*(this.scrolled3-this.scroll.y3)+this.scroll.y3,this.scroll.y4=this.setupWebglScene.easingBase*(this.scrolled4-this.scroll.y4)+this.scroll.y4,this.scroll.y5=this.setupWebglScene.easingBase*(this.scrolled5-this.scroll.y5)+this.scroll.y5,this.globalGroup.rotation.x=this.setupWebglScene.mouse.y/100,this.globalGroup.rotation.y=this.setupWebglScene.mouse.x/40,this.camera.rotation.y=-this.setupWebglScene.mouse.x/100,this.globalGroup.position.z=22.5-this.scroll.y0/420+this.scroll.y5/5e3,this.camera.rotation.x=-.25-this.scroll.y5/7e3,this.camera.position.y=4+this.scroll.y5/600;var t=this.maxVal(1.6,1+2*(1.4-this.maxVal(1.4,this.vw/this.vh))),r=this.maxVal(1.75,1.4-this.maxVal(1.4,this.vw/this.vh)+1),n=this.maxVal(1.3,1+(1.4-this.maxVal(1.4,this.vw/this.vh))/2);this.camera.fov=35*t+this.scroll.y5/1500,this.title.scale.set(1/r,1/r,1/r),this.title.position.y=3*n,this.camera.updateProjectionMatrix();for(var i=0;i<this.pins.length;i++)this.pins[i].scale.set(1,this.scroll.y1/1e3,1);this.linesMaterial1.opacity=this.scroll.y2/1e3,this.linesMaterial2.opacity=this.scroll.y2/1e3,this.impactMaterial.opacity=1-this.scroll.y4/2e3;var o="block";this.roundTwo(this.scroll.y3)/250<=.1&&(o="none"),c.b.set(".pin-section-2",{display:o,force3D:!0});var l=this.roundTwo(this.scroll.y4),h="block";l/250<=.1&&(h="none"),c.b.set(".timeline",{display:h,opacity:l/500,force3D:!0}),c.b.set(".timeline-line",{xPercent:l/10,force3D:!0}),c.b.set(".triangle-indicator",{x:(this.vw-48)*(l/1e3),force3D:!0}),document.getElementsByClassName("calc-mw")[0].innerText=Math.ceil(1.02*l)}},{key:"loopPinPosition",value:function(){if(this.setupWebglScene.vw>767||!this.isMobile)for(var e=this.roundTwo(this.scroll.y2)/1e3,t=this.roundTwo(this.scroll.y3)/500,r=31*e*4,i=0;i<this.pins.length;i++){var n=new h.Vector3;(n=(new h.Box3).setFromObject(this.pins[i]).getCenter(new h.Vector3)).y+=this.pinsPosition[i].height/2+.375,n.project(this.camera);var o=this.vw/2,l=this.vh/2;n.x=n.x*o+o,n.y=n.y*l+l;var d=this.roundTwo(this.vh-n.y+155-r),m=this.roundTwo(n.x);c.b.set(".pin-"+(10+i),{y:d,x:m,opacity:t,force3D:!0})}}},{key:"resizeCanvas",value:function(){this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.vhSave=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.businessHeight=document.getElementsByClassName("business")[0].offsetHeight,this.vw/this.vh>2?this.vh=this.vw/2:(this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.isMobile&&(this.vh=window.screen.height,this.vhSave=window.screen.height)),this.setupWebglScene.vw<768||this.isMobile?c.b.set(".pin-wrapper",{display:"none"}):c.b.set(".pin-wrapper",{display:"block"}),this.camera.aspect=this.vw/this.vh,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.vw,this.vh),this.renderer.setPixelRatio(this.setupWebglScene.pixelRatio),this.fbo.setSize(this.vw*this.setupWebglScene.pixelRatio,this.vh*this.setupWebglScene.pixelRatio)}},{key:"cleanMemory",value:function(){var e=this;this.scene.traverse((function(object){if(object.isMesh||object.isPoints||object.isLine)if(object.geometry.dispose(),object.material.isMaterial)e.cleanMaterial(object.material);else{var t,r=d(object.material);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.cleanMaterial(n)}}catch(e){r.e(e)}finally{r.f()}}})),this.renderer&&this.renderer.renderLists&&this.renderer.renderLists.dispose(),this.renderer.dispose(),this.fbo.dispose()}},{key:"cleanMaterial",value:function(e){e.dispose();for(var t=0,r=Object.keys(e);t<r.length;t++){var o=e[r[t]];o&&"object"===Object(n.a)(o)&&"minFilter"in o&&o.dispose()}}}])}()}}]);